{% load staticfiles %}
<!DOCTYPE html>
<html>
    <script src="{% static "hide.js" %}" type="text/javascript"></script>
    <script src="{% static "cookies.js" %}" type="text/javascript"></script>
    <script src="{% static "documentHandler.js" %}" type="text/javascript"></script>


    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="{% static "css/materialize.min.css" %}">
    
    <!-- Compiled and minified JavaScript -->
    <script src="{% static "js/materialize.min.js" %}"></script>
    
    
    <!-- Materialize icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script type="text/javascript">
        var documents = [];
    </script>
    <head>
        <meta charset="utf-8">
        <title>PDFINVEST The Best Invest</title>
    </head>

    <body>

    <nav>
        <div class="nav-wrapper  red darken-3">
            <a href="/pdfapp/upload/" class="brand-logo">&ensp; Conversor de PDF a HTML</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="/pdfapp/files/">Archivos</a></li>
            </ul>
        </div>
    </nav>

    
    <table style="width: auto; height: auto;">
        
        <tr>
            <!-- List of uploaded documents -->
            {% if documents %}
                <p>Documentos: </p>
                <p>
                <ul>
                    {% for document in documents %}
                        <li><a href="{{ document.docfile.url }}">{{ document.docfile.name }}</a>   
                        <input   id="{{ document.docfile.name|add:"_edit_btn" }}"
                                                type="button"
                                                value="Editar" 
                                                onClick="window.open('../edit/{{ document.docfile.name }}', '_blank'); return false;"
                        /></li>
                        <script type="text/javascript">documents.push("{{ document.docfile.name }}");</script>
                        
                    {% endfor %}
                </ul>
                </p>
            {% else %}
                <p>No documents to Show.</p>
            {% endif %}
        </tr>
        
        <tr>
            {% if documents %}
            <th style="text-align: left; vertical-align: text-top;">
                {% for document in documents %}
                <p><input   id="{{ document.docfile.name|add:"_btn" }}"
                            type="button"
                            value="Show " 
                            onClick="showStuff('{{ document.docfile.name }}', this); resize(documents); return false;"
                /></p>
                <script type="text/javascript">
                    document.getElementById('{{ document.docfile.name|add:"_btn" }}').name = getDocumentName("{{ document.docfile.name }}"); 
                    document.getElementById('{{ document.docfile.name|add:"_btn" }}').value = document.getElementById('{{ document.docfile.name|add:"_btn" }}'). value + document.getElementById('{{ document.docfile.name|add:"_btn" }}').name;
                </script>
                {% endfor %}
            </th>
            <th>
            <table style="  margin-left: left;
                            margin-right: auto;
                            width: 100%;
                            height: auto;">
                <tr>
                    {% for document in documents %}
                        <th id="{{ document.docfile.name }}" style="display: none;">
                            <div style="border: 2px solid;
                                   padding: 10px;
                                   width: auto;
                                   height: auto;
                                   resize: both;
                                   overflow: auto;">
                                <embed  src= "{{ document.docfile.url }}" 
                                        style="     margin-left: auto;
                                                    margin-right: auto;
                                                    width: 100%;
                                                    height: 100%;"
                                />
                            </div>
                        </th>
                    {% endfor %}
                </tr>
            </table>
            </th>
        {% endif %}
        </tr>
    </table>
    
    </body>

</html>